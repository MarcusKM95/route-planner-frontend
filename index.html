<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Route Planner Frontend</title>
    <link rel="stylesheet" href="/src/styles.css">
</head>
<body>
<div class="container">
    <h1>Route Planner (A* Demo)</h1>

    <section class="controls">
        <h2>Input</h2>

        <div class="restaurant-controls">
            <label>
                Restaurant:
                <select id="restaurantSelect">
                    <option value="">Loading restaurants...</option>
                </select>
            </label>
        </div>

        <div class="grid-controls">
            <label>
                Grid width:
                <input type="number" id="gridWidth" value="30" min="2" readonly>
            </label>
            <label>
                Grid height:
                <input type="number" id="gridHeight" value="20" min="2" readonly>
            </label>
        </div>

        <div class="point-controls">
            <label>
                Start X:
                <input type="number" id="startX" value="0" min="0" readonly>
            </label>
            <label>
                Start Y:
                <input type="number" id="startY" value="0" min="0" readonly>
            </label>
            <label>
                End X:
                <input type="number" id="endX" value="8" min="0">
            </label>
            <label>
                End Y:
                <input type="number" id="endY" value="1" min="0">
            </label>
        </div>

        <div class="heuristic-controls">
            <label>
                Heuristic:
                <select id="heuristic">
                    <option value="MANHATTAN">Manhattan</option>
                    <option value="EUCLIDEAN">Euclidean</option>
                </select>
            </label>
        </div>
        <div class="strategy-controls">
            <label>
                Delivery strategy:
                <select id="strategy">
                    <option value="IN_ORDER">In order (A, B, C...)</option>
                    <option value="NEAREST_NEIGHBOR">Nearest neighbor</option>
                </select>
            </label>
        </div>
        <button id="runButton">Compute route</button>
        <button id="resetButton" type="button">Reset stops & route</button>
    </section>
    <section class="canvas-section">
        <h2>Map</h2>
        <canvas id="cityCanvas"></canvas>
        <p class="canvas-hint">Restaurant = blue, destination = green, route = red line.</p>
    </section>
    <section class="panel">
        <h2>Live Delivery Simulation</h2>

        <div class="control-row">
            <label for="orderRestaurantSelect">Restaurant:</label>
            <select id="orderRestaurantSelect">
                <option value="">Loading...</option>
            </select>
        </div>

        <p class="hint">
            Choose a restaurant, then click on the map to create an order at that address.
            The nearest courier will be assigned automatically and start moving.
        </p>

        <canvas id="ordersCanvas"></canvas>

        <div id="ordersInfo" class="info-box"></div>
    </section>
    <section class="output">
        <h2>Result</h2>
        <div id="metrics"></div>
        <pre id="pathOutput"></pre>
    </section>
    <section class="orders-section">
        <h2>Orders</h2>

        <div class="orders-panels">
            <div class="orders-panel">
                <h3>Active orders</h3>
                <div id="activeOrdersPanel">
                    <!-- active orders -->
                </div>
            </div>

            <div class="orders-panel">
                <h3>Delivered orders</h3>
                <div id="deliveredOrdersPanel">
                    <!-- delivered orders -->
                </div>
            </div>
        </div>
    </section>
</div>

<!-- Vite: ES module entry -->
<script type="module" src="/src/app.js"></script>
</body>
</html>
